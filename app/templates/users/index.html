{% extends "base.html" %}

{% block header %}
<div class="pricing-header p-3 pb-md-4 mx-auto text-center">
    <h2 class="fw-normal">My OpenGWAS API Account</h2>
    <p class="fs-5 text-muted">...</p>
</div>
{% endblock %}

{% block main %}
<div class="clearfix">
    <div class="float-start"><h4>User</h4></div>
    <div class="float-end"><a href="{{ url_for('users.auth.signout') }}" class="text-danger" data-toggle="tooltip" title="Sign out from this website. Please note your API tokens will still be valid.">Sign out</a></div>
</div>
<div class="row">
    <div class="col">
        <div class="row">
            <div class="col-auto">
                <label for="firstname" class="col-form-label">Firstname</label>
            </div>
            <div class="col-auto">
                <input type="text" readonly class="form-control-plaintext" id="firstname" value="{{ user['first_name'] }}">
            </div>
        </div>
    </div>
    <div class="col">
        <div class="row">
            <div class="col-auto">
                <label for="lastname" class="col-form-label">Lastname</label>
            </div>
            <div class="col-auto">
                <input type="text" readonly class="form-control-plaintext" id="lastname" value="{{ user['last_name'] }}">
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col">
        <div class="row">
            <div class="col-auto">
                <label for="email" class="col-form-label">Email</label>
            </div>
            <div class="col-auto">
                <input type="text" readonly class="form-control-plaintext" id="email" value="{{ user['uid'] }}">
            </div>
        </div>
    </div>
    <div class="col">
        <div class="row">
            <div class="col-auto">
                <label for="tier" class="col-form-label">Tier</label>
            </div>
            <div class="col-auto">
                <input type="text" readonly class="form-control-plaintext" id="tier" value="{{ globals_tiers[user['tier']] }}">
            </div>
        </div>
    </div>
</div>
{% if org %}
    <hr>
    <h4>Organisation <small><i class="bi bi-info-circle" data-toggle="tooltip" title="{{ org_tooltip }}"></i></small></h4>
    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col-auto">
                    <label for="org_name" class="col-form-label">Name</label>
                </div>
                <div class="col-auto">
                    <input type="text" readonly class="form-control-plaintext" id="org_name" value="{{ org['ms_name'] or org['gh_name'] }}">
                </div>
            </div>
        </div>
    </div>
    {% if membership %}
        <div class="row">
            <div class="col">
                <div class="row">
                    <div class="col-auto">
                        <label for="membership" class="col-form-label">Membership</label>
                    </div>
                    <div class="col">
                        <span type="text" readonly class="form-control-plaintext" id="membership">{{ "<br>".join(membership.values()) | safe }}</span>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
{% endif %}
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
{% endblock %}

{% block scripts %}
<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })
</script>
{% endblock %}