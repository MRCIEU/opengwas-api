version: '3'
services:
#neo4j
   db:
    image: neo4j:3.5
    restart: always
    container_name: mrb-neo4j
    #comment out ports to lock down neo4j
    ports:
     - "27474:7474"
     - "27687:7687"
     - "27473:7473"
    environment:
     - NEO4J_AUTH=neo4j/dT9ymYwBsrzd # configure the instance with custom username/password
     - NEO4J_dbms_memory_heap_max__size=10G # configure the heap memory
     - NEO4J_dbms_memory_heap_initial__size=5G
     - NEO4J_dbms_memory_pagecache_size=10G # configure the cache memory
     - NEO4J_dbms_shell_enabled=true
     - NEO4J_dbms_allow__upgrade=true
     - NEO4J_dbms_security_allow__csv__import__from__file__urls=true
    volumes:
     - /data/mrb_neo4j/data:/data
     - /data/mrb_neo4j/logs:/logs
